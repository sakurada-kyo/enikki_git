{% extends 'base.html' %}
{% load static %}
{% block css %}
  <link rel="stylesheet" href="{% static 'css\group.css' %}" />
{% endblock %}
{% block content %}
  <h2>グループ一覧</h2>
  {% if error %}
    <p>{{ error }}</p>
  {% else %}
    {% for group in groups %}
    <div class="grp">
      <img src="/media/{{ group.group.group_icon_path }}" />
      <p>{{ group.group.groupname }}</p>
      <input type="button" id="add" value="メンバーを追加する">
    </div>
    {% endfor %}
  {% endif %}

  <!-- ポップアップ表示 -->
<div id="members-popup" style="display: none;">
  <div id="popup-inside">
    <form action="" method="post">
      {% csrf_token %}
      <h2>グループメンバー一覧</h2>
      <!-- メンバー一覧を表示するロジックを追加 -->
      {% for friend in friends %}
        <p>{{ friend.followee.username }}</p>
      {% endfor %}
      <input id="invite" type="submit" value="招待">
    </form>
  </div>
</div>
{% endblock %}
{% block side %}
  <li>
    <a href="{% url 'enikki:timeline' %}" class="side-list">タイムライン</a>
  </li>
  <li>
    <a href="{% url 'enikki:calendar' %}" class="side-list">カレンダー</a>
  </li>
  <li>
    <a href="{% url 'enikki:create' %}" class="side-list">絵日記作成</a>
  </li>
  <li>
    <a href="{% url 'enikki:mypage' %}" class="side-list">マイページ</a>
  </li>
  <li>
    <a href="{% url 'enikki:friend' %}" class="side-list">フレンド一覧</a>
  </li>
{% endblock %}
{% block footer %}
  <footer>
    <div id="kotei">
      <small>&copy;2023 SnapSketch</small>
    </div>
  </footer>
{% endblock %}
{% block js %}
<script src="{% static 'js/group.js' %}"></script>
  {% comment %} <script src="{% static 'js/group.js' %}"></script> {% endcomment %}
{% endblock %}
